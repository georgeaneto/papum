<ion-header>
    <ion-toolbar>
        <ion-title>Cadastre-se</ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-card color="light">
        <div class="img-wrapper">
            <img [src]="avatar || 'assets/img/avatar.png'">
            <ion-button (click)=getImage()
                        color="light">
                <ion-icon slot="icon-only"
                          name="camera-outline"
                          color="medium">
                </ion-icon>
            </ion-button>
        </div>
        <ion-card-content class="ion-text-center">
            <h2>{{currentName}}</h2>
            <ion-text color="medium">
                <div style="display: flex;"
                     class="ion-justify-content-center">
                    <ion-icon name="location-outline"
                              color="medium">
                    </ion-icon>
                    <p>{{viaCepData?.logradouro}}</p>
                </div>
            </ion-text>
        </ion-card-content>
    </ion-card>

    <form [formGroup]="form"
          (ngSubmit)="submit()">
        <ion-item>
            <ion-label>Nome</ion-label>
            <ion-input formControlName="name"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>E-mail</ion-label>
            <ion-input formControlName="email"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Telefone</ion-label>
            <ion-input formControlName="mobile"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Especialidades</ion-label>
            <ion-input formControlName="descriptionWork"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Aniversário</ion-label>
            <ion-datetime #mydt
                          [pickerOptions]="customPickerOptions"
                          placeholder=""
                          displayFormat="DD/MMMM"
                          [(ngModel)]="selDate"
                          formControlName="birthday">
            </ion-datetime>
        </ion-item>
        <ion-list>
            <ion-item>
                <ion-label>Dias de atendimento</ion-label>
                <ion-select interface="action-sheet"
                            multiple="true"
                            cancelText="Cancelar"
                            okText="Salvar"
                            formControlName="weekDays">
                    <ion-select-option value="Segunda">Segunda</ion-select-option>
                    <ion-select-option value="Terça">Terça</ion-select-option>
                    <ion-select-option value="Quarta">Quarta</ion-select-option>
                    <ion-select-option value="Quinta">Quinta</ion-select-option>
                    <ion-select-option value="Sexta">Sexta</ion-select-option>
                    <ion-select-option value="Sábado">Sábado</ion-select-option>
                    <ion-select-option value="Domingo">Domingo</ion-select-option>
                </ion-select>
            </ion-item>
        </ion-list>
        <ion-item>
            <ion-label>Atendimente em domicílio?</ion-label>
            <ion-toggle formControlName="attendanceType"></ion-toggle>
        </ion-item>
        <ion-item>
            <ion-label>CEP</ion-label>
            <ion-input formControlName="cep"
                       [(ngModel)]="form.get('cep').value"></ion-input>
            <ion-button (click)="onSearchByCEP()">Buscar automatico</ion-button>
        </ion-item>
        <ion-item>
            <ion-label>Rua</ion-label>
            <ion-input formControlName="street"
                       [(ngModel)]="form.get('street').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Número</ion-label>
            <ion-input formControlName="houseNumber"
                       [(ngModel)]="form.get('houseNumber').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Complemento</ion-label>
            <ion-input formControlName="complement"
                       [(ngModel)]="form.get('complement').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Bairro</ion-label>
            <ion-input formControlName="district"
                       [(ngModel)]="form.get('district').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Estado</ion-label>
            <ion-input formControlName="state"
                       [(ngModel)]="form.get('state').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Cidade</ion-label>
            <ion-input formControlName="city"
                       [(ngModel)]="form.get('city').value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label>Serviços</ion-label>
            <ion-select formControlName="services"
                        interface="popover"
                        multiple>
                <ion-select-option *ngFor="let services of professionalServicesList"
                                   [value]="services">{{services.name}}
                </ion-select-option>
            </ion-select>
        </ion-item>
        <ion-button class="margin"
                    type="submit"
                    expand="full">
            Salvar
        </ion-button>
    </form>
</ion-content>
